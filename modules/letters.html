<h2>Generate Letter Prompt</h2>

<!-- Client Selection Section -->
<div class="form-group">
    <label for="clientSelect">Select Client:</label>
    <select id="clientSelect" onchange="loadClientInfo()">
        <option value="">-- Select a Client --</option>
    </select>
</div>

<!-- Client Information Display -->
<div id="clientInfoSection" style="display: none;">
    <div class="client-info">
        <h3>Client Information</h3>
        <div class="info-grid">
            <div class="info-item">
                <div class="info-label">Client Name</div>
                <div class="info-value" id="selectedClientName"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Matter Number</div>
                <div class="info-value" id="selectedMatterNumber"></div>
            </div>
        </div>
    </div>

    <!-- Template Selection -->
    <div id="templateSelection">
        <div class="form-group">
            <label for="letterType">Select Letter Type:</label>
            <select id="letterType" onchange="if(window.EventHandlers) EventHandlers.selectTemplate(this.value)">
                <option value="">-- Select Letter Type --</option>
                <option value="CCL">Client Care Letter (CCL)</option>
                <option value="Mention">Mention Letter</option>
                <option value="Final">Final Letter</option>
                <option value="FeeReestimate">Fee Re-estimate Letter</option>
            </select>
        </div>
        
        <div id="selectedTemplate" style="display: none; margin: 10px 0; padding: 10px; background: #f0f9ff; border-radius: 6px; color: #0284c7; font-weight: 600;"></div>
    </div>

    <!-- Dynamic Form Container -->
    <div id="cclForm" style="display: none;"></div>
    <div id="mentionForm" style="display: none;"></div>
    <div id="finalForm" style="display: none;"></div>
    <div id="feerrestimateForm" style="display: none;"></div>

    <!-- Generate Section -->
    <div id="generateSection" style="display: none;">
        <div class="form-actions" style="margin-top: 30px;">
            <button class="btn btn-primary" onclick="EventHandlers.generateLetter(document.getElementById('letterType').value)">Generate Letter</button>
            <button class="btn btn-secondary" onclick="CoreUtils.clearFormFields('moduleContainer')">Clear Form</button>
        </div>

        <!-- Output Section -->
        <div id="letterOutput" style="display: none; margin-top: 20px;"></div>
        <div id="statusMessage" style="display: none; margin-top: 10px;"></div>
    </div>
</div>
